[COM_001] 일별 데이터 조회

  1. 기능 개요

항목

내용

기능 코드

COM_001

기능명

일별 데이터 조회

목적

HEMS 서비스 전반에서 데이터 조회·분석 시 기간 선택과 데이터 해상도를 동일한 기준으로 적용한다.

상위 연계 Feature

에너지 사용 데이터 조회, 홈 시스템 영향도 분석, 리포트

필요 조건

시계열 데이터가 시간 단위로 저장되어 있어야 한다.

2. 적용 대상 및 범위

적용 대상

App / Admin 공통

Home, Solar, ESS, Grid, EV 관련 모든 데이터 조회·분석 기능

적용 범위

기간 선택 UI

데이터 집계 해상도

기간 변경 시 데이터 재조회 및 재집계

3. 항목값 및 입력 조건

3-1. 기간 선택 항목

항목

형식

필수 여부

기본값

설명

period_type

Enum

필수

DAY

조회 기간 유형

start_datetime

Datetime

조건부

-

사용자 지정 기간 시작

end_datetime

Datetime

조건부

-

사용자 지정 기간 종료

period_type 정의

값

설명

DAY

일 단위

WEEK

주 단위

MONTH

월 단위

YEAR

연 단위

LIFETIME

전체 누적

CUSTOM

사용자 지정 기간

3-2. 데이터 해상도

항목

형식

필수 여부

기본값

설명

resolution

Enum

필수

1h

데이터 집계 단위

해상도 규칙

최소 해상도는 1시간(1h) 이다.

1시간 미만 해상도는 제공하지 않는다.

기간 유형에 따라 해상도는 자동 적용된다.

4. 처리 규칙

4-1. 기간별 해상도 적용 기준

기간 유형

적용 해상도

DAY

1h

WEEK

1h

MONTH

1d

YEAR

1d

LIFETIME

1d

4-2. 데이터 집계 기준

데이터 유형

집계 방식

전력량(kWh)

합계

비용

합계

상태값(SoC, %)

평균

비율(%)

집계 후 재계산

4-3. 기간 경계 처리

시작 시각은 포함, 종료 시각은 제외한다.

시간 기준은 설치 지역의 로컬 타임존을 따른다.

미래 시점 데이터는 조회 대상에서 제외한다.

5. 출력 정의

공통 출력 항목

항목

설명

period_label

화면에 표시되는 기간 정보

resolution

적용된 데이터 해상도

data_points

해상도 기준 집계 데이터

total_value

기간 전체 누적값(필요 시)

6. 예외 및 제한 사항

상황

처리 방식

데이터 없음

0 또는 “데이터 없음” 표시

일부 데이터 누락

해당 구간 0 처리

향후 제공 기능(EV/V2H 등)

값 0 표시 및 “향후 제공 예정” 안내

잘못된 기간 입력

기본 기간(DAY)으로 대체

7. 수용 기준

모든 데이터 조회·분석 기능에서 동일한 기간 옵션을 제공한다.

동일 기간 선택 시 App과 Admin의 결과가 일관된다.

기간 변경 시 데이터가 자동으로 재집계된다.

1시간 미만 해상도는 제공되지 않는다.

Lifetime 선택 시 전체 누적 데이터가 표시된다.
