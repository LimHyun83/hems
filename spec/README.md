# spec/

본 디렉터리는 **HEMS(Home Energy Management System)** 프로젝트의
**App / Admin 공통 기능에 대한 상세 기능 정의(Markdown) 문서를 관리하는 공간**이다.

이 디렉터리는 CSV 기반 기능명세서를 보완·확장하는 역할을 하며,
GitHub에서의 리뷰, 합의, 변경 이력 관리를 목적으로 한다.

---

## 1. spec 디렉터리의 역할

* `spec/`은 **기능명세서(CSV)의 해석서이자 확장 문서**이다.
* CSV는 기능의 존재와 범위를 정의한다.
* spec Markdown은 기능의 동작, 조건, 제약을 명확히 설명한다.

> spec 문서는 CSV를 대체하지 않으며, 항상 CSV를 기준(Source of Truth)으로 삼는다.

---

## 2. App / Admin 통합 운영 원칙

본 `spec/` 디렉터리는 **App과 Admin을 구분하지 않고 하나의 구조로 운영**한다.

그 이유는 다음과 같다.

* 대부분의 기능이 **공통 개념과 동일한 Code 체계**를 공유한다.
* App과 Admin의 차이는 UI 또는 권한 수준의 차이인 경우가 많다.
* 기능의 본질적 정의는 하나의 spec으로 관리하는 것이 정합성이 높다.

App / Admin 간 차이가 필요한 경우에는 **문서 내부에서 명시적으로 구분**한다.

---

## 3. 디렉터리 구조

```text
spec/
 ├─ README.md              # 본 문서
 ├─ COM/
 │   ├─ README.md
 │   └─ COM_001.md
 ├─ NOW/
 │   ├─ README.md
 │   └─ NOW_006.md
 ├─ DAT/
 ├─ SET/
 ├─ VAL/
 ├─ NOT/
 └─ MEM_HIS/
```

* Group 단위로 디렉터리를 구성한다.
* 기능 단위 문서는 Code 기준으로 관리한다.

---

## 4. Group 개념

Group은 화면이나 메뉴 기준이 아니라,
**기능의 성격과 책임 기준으로 분류**한다.

| Group     | 설명               |
| --------- | ---------------- |
| COM       | 공통 규칙 및 공통 처리 로직 |
| NOW       | 현재 상태 및 실시간 정보   |
| DAT       | 데이터 조회 및 분석      |
| SET       | 설정 및 제어 기능       |
| VAL       | 예측·시뮬레이션·평가      |
| NOT       | 알림 및 이벤트         |
| MEM / HIS | 이력 및 로그          |

---

## 5. 기능 문서 작성 규칙

### 5.1 기본 원칙

1. **1 Code = 1 Markdown 문서**
2. 파일명은 반드시 `CODE.md` 형식을 따른다.
3. CSV의 의미를 변경하거나 재해석하지 않는다.

### 5.2 App / Admin 구분 표기 방법

App과 Admin의 동작이 다른 경우,
아래와 같이 문서 내부에서 명시적으로 구분한다.

```text
- App 기준:
  - 사용자에게 노출되는 동작

- Admin 기준:
  - 운영자에게 제공되는 관리 기능
```

---

## 6. 기능 Markdown 문서 표준 구조

모든 기능 문서는 아래 구조를 **필수로 사용**한다.

```markdown
# [CODE] 기능명

## 1. 기능 개요

## 2. 기능 정의

## 3. 입력 데이터

## 4. 처리 규칙

## 5. 출력 데이터

## 6. 상태 및 조건

## 7. 외부 연계 (H-Cloud 등)

## 8. App / Admin 차이점 (해당 시)

## 9. 관련 기능

## 10. 변경 이력
```

---

## 7. Group README.md 작성 규칙

각 Group 디렉터리에는 반드시 `README.md`를 포함한다.

Group README는 다음 정보를 포함한다.

* Group의 목적
* 포함된 기능 목록(Code)
* Group 단위 공통 규칙

---

## 8. 변경 관리 원칙

* 기능 변경은 반드시 **CSV → spec 순서**로 진행한다.
* spec 문서 변경 시, 변경 이력을 하단에 기록한다.
* 기능 폐기는 Code 삭제가 아닌 **Deprecated 처리**를 원칙으로 한다.

---

## 9. 이 문서를 읽는 대상

* 기획자
* 개발자
* QA 및 검증 인력
* 운영 및 유지보수 담당자

모든 이해관계자는 spec 문서를 통해
**동일한 기능 정의를 공유**해야 한다.

---

본 README는 spec 디렉터리 운영을 위한 기준 문서이며,
기능의 최종 판단 기준은 항상 최신 CSV 기능명세서를 따른다.

---

End of spec/README.md
